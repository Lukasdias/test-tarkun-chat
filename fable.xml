<fable>
  <property
    name="tarefas"
    default="['Estudar FableML', 'Fazer exercícios', 'Criar projeto']"
  />
  <property name="tarefa_atual" default="0" />

  <page id="todo-list" bg_color="#34495e">
    <!-- Cabeçalho -->
    <agent
      id="header"
      x="400"
      y="60"
      text="📝 Lista de Tarefas ($tarefas.length restantes)"
      color="#ffffff"
      font-size="18"
    />

    <!-- Lista de tarefas -->
    <fab-for each="tarefa in $tarefas" index="i">
      <agent
        id="tarefa-$i"
        x="100"
        y="$i * 60 + 140"
        text="☐ $tarefa"
        color="#ffffff"
        font-size="16"
      />

      <!-- Botão para completar tarefa -->
      <agent
        id="completar-$i"
        x="600"
        y="$i * 60 + 140"
        text="✅ Completar"
        bg_color="#27ae60"
        color="white"
        width="100"
        height="35"
        on_click="remove(tarefas, $i); playSound('osts-victory.mp3')"
      />
    </fab-for>

    <!-- Mensagem quando não há tarefas -->
    <fab-if when="$tarefas.length = 0">
      <agent
        id="sem-tarefas"
        x="400"
        y="200"
        text="🎉 Todas as tarefas foram completadas!"
        color="#f1c40f"
        font-size="18"
        animation="bounce-in"
      />

      <agent
        id="reiniciar"
        x="400"
        y="250"
        text="🔄 Adicionar Novas Tarefas"
        on_click="append(tarefas, 'Nova tarefa 1'); 
                       append(tarefas, 'Nova tarefa 2')"
      />
    </fab-if>

    <!-- Ações extras -->
    <agent
      id="remover-primeira"
      x="150"
      y="450"
      text="❌ Cancelar Primeira"
      bg_color="#e67e22"
      color="white"
      on_click="remove(tarefas, 0)"
    />

    <agent
      id="limpar-tudo"
      x="400"
      y="450"
      text="🧹 Limpar Tudo"
      bg_color="#e74c3c"
      color="white"
      on_click="clear(tarefas)"
    />
  </page>
</fable>
